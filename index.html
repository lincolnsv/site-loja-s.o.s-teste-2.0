<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>S.O.S Celulares - Novos e Seminovos</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  body { background: linear-gradient(to bottom, #bfdbfe, #eff6ff); scroll-behavior: smooth; }
  .card-hover { position: relative; overflow: hidden; transition: transform 0.25s, box-shadow 0.25s; }
  .card-hover:hover { transform: translateY(-6px); box-shadow: 0 12px 24px rgba(0,0,0,0.12); }
  .favorite-btn.active { color: #ef4444; }
  .product-modal { transition: all 0.25s ease; opacity: 0; visibility: hidden; position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 60; }
  .product-modal.active { opacity: 1; visibility: visible; }
  .modal-overlay { background-color: rgba(0,0,0,0.65); position: absolute; inset:0; }
  .modal-card { background: white; border-radius: 1rem; max-width: 95%; width: 900px; max-height: 90vh; overflow-y: auto; padding: 1.25rem; position: relative; }
  .mobile-menu { display: none; flex-direction: column; gap: 0.5rem; }
  .menu-toggle { display: none; cursor: pointer; font-size: 1.25rem; }
  @media(max-width: 768px){ nav.desktop-menu { display: none; } .menu-toggle { display: block; color: white; } .mobile-menu.show { display: flex; } }
  .scroll-to-top { position: fixed; bottom: 2rem; right: 2rem; background: #2563eb; color: white; padding: 0.6rem 0.8rem; border-radius: 9999px; cursor: pointer; display: none; z-index: 80; transition: transform 0.15s; }
  .scroll-to-top:hover { transform: scale(1.06); }
</style>
</head>
<body class="font-sans text-gray-800">

<!-- Scroll to top -->
<button id="scrollTopBtn" class="scroll-to-top" aria-label="Voltar ao topo"><i class="fas fa-arrow-up"></i></button>

<!-- Header -->
<header class="bg-blue-600 text-white sticky top-0 z-50 shadow">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <a href="#" class="flex items-center gap-3">
      <img src="imagens/logo.png" alt="S.O.S Celulares" class="h-16 w-auto" />
      <div>
        <div class="text-xl font-extrabold">S.O.S Celulares</div>
        <div class="text-xs hidden-on-small">Novos e Seminovos com Garantia</div>
      </div>
    </a>

    <nav class="desktop-menu flex items-center gap-6">
      <a href="#novos" class="hover:underline font-bold">Novos</a>
      <a href="#seminovos" class="hover:underline font-bold">Seminovos</a>
      <a href="#acessorios" class="hover:underline font-bold">Acess√≥rios</a>
      <a href="#promocoes" class="hover:underline font-bold">Promo√ß√µes</a>
      <a href="#contato" class="hover:underline font-bold">Contato</a>
    </nav>

    <div class="flex items-center gap-4">
      <div class="hidden md:flex items-center bg-white rounded-full px-3 py-1">
        <input id="searchInput" type="search" placeholder="Pesquisar produtos..." class="outline-none text-sm px-2" />
        <button id="searchBtn" class="text-blue-600 px-2"><i class="fas fa-search"></i></button>
      </div>
      <button id="menuToggle" class="menu-toggle md:hidden"><i class="fas fa-bars"></i></button>
    </div>
  </div>
  <div id="mobileMenu" class="mobile-menu px-4 pb-4 bg-blue-600">
    <a href="#novos" class="text-white font-semibold">Novos</a>
    <a href="#seminovos" class="text-white font-semibold">Seminovos</a>
    <a href="#acessorios" class="text-white font-semibold">Acess√≥rios</a>
    <a href="#promocoes" class="text-white font-semibold">Promo√ß√µes</a>
    <a href="#contato" class="text-white font-semibold">Contato</a>
  </div>
</header>

<!-- Hero -->
<section class="bg-gradient-to-r from-blue-500 to-blue-700 text-white py-16">
  <div class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-8">
    <!-- Texto -->
    <div class="md:w-1/2">
      <h1 class="text-3xl md:text-5xl font-extrabold mb-4">Celulares Novos e Seminovos com Garantia</h1>
      <p class="text-lg md:text-xl mb-6">Os melhores pre√ßos e condi√ß√µes ‚Äî pe√ßa pelo WhatsApp e receba atendimento r√°pido.</p>
      <div class="flex gap-3">
        <a href="#novos" class="bg-white text-blue-600 px-6 py-3 rounded-full font-semibold hover:bg-gray-100">Ver Produtos</a>
        <a href="https://wa.me/5564999984690" target="_blank" class="bg-green-500 text-white px-6 py-3 rounded-full font-semibold hover:bg-green-600 flex items-center gap-2">
          <i class="fab fa-whatsapp"></i> Fale no WhatsApp
        </a>
      </div>
    </div>

    <!-- Imagem com rota√ß√£o -->
    <div class="md:w-1/2 flex justify-center">
      <img id="destaqueImagem" src="/caminho/para/imagem1.png" alt="Smartphones" class="max-w-md rounded-xl shadow-lg">
    </div>
  </div>
</section>

<script>
  // Array com as imagens da categoria "Novos"
  const imagensNovos = [
    '/caminho/para/imagem1.png',
    '/caminho/para/imagem2.png',
    '/caminho/para/imagem3.png'
  ];

  let indice = 0;
  const destaque = document.getElementById('destaqueImagem');

  setInterval(() => {
    indice = (indice + 1) % imagensNovos.length;
    destaque.src = imagensNovos[indice];
  }, 3000); // troca a cada 3 segundos
</script>


  <!-- Ordena√ß√£o -->
  <div class="mb-8 flex items-center gap-3">
    <div class="text-sm text-gray-600">Ordenar:</div>
    <select id="sortSelect" class="px-3 py-1 rounded border">
      <option value="default">Relev√¢ncia</option>
      <option value="price-asc">Pre√ßo: menor ‚Üí maior</option>
      <option value="price-desc">Pre√ßo: maior ‚Üí menor</option>
    </select>
  </div>

  <!-- Se√ß√µes de produtos -->
  <h2 id="promocoes" class="text-2xl font-bold mb-4 text-blue-700">üí• Promo√ß√µes</h2>
  <section id="catalogPromocoes" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></section>
  
  <h2 id="novos" class="text-2xl font-bold mb-4 text-blue-700">üì± Novos</h2>
  <section id="catalogNovos" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-10"></section>

  <h2 id="seminovos" class="text-2xl font-bold mb-4 text-blue-700">üì± Seminovos</h2>
  <section id="catalogSeminovos" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-10"></section>

  <h2 id="acessorios" class="text-2xl font-bold mb-4 text-blue-700">üéß Acess√≥rios</h2>
  <section id="catalogAcessorios" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-10"></section>

</main>

<!-- WhatsApp floating -->
<a href="https://wa.me/5564999518536" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition z-40" aria-label="WhatsApp">
  <i class="fab fa-whatsapp text-2xl"></i>
</a>

<!-- Modal Produto -->
<div id="productModal" class="product-modal" role="dialog" aria-hidden="true">
  <div class="modal-overlay" id="modalOverlay"></div>
  <div class="modal-card" role="document" aria-modal="true">
    <button id="closeProductModal" class="absolute top-3 right-3 text-gray-600 hover:text-gray-900" aria-label="Fechar modal">
      <i class="fas fa-times text-xl"></i>
    </button>
    <div id="modalInner" class="grid md:grid-cols-2 gap-4">
      <div>
        <img id="modalImage" src="" alt="" class="w-full rounded-md object-contain max-h-96" />
      </div>
      <div>
        <h2 id="modalTitle" class="text-2xl font-bold mb-2"></h2>
        <p id="modalDesc" class="text-sm text-gray-700 mb-3"></p>
        <div class="mb-3">
          <span class="text-xl font-bold text-blue-600" id="modalPrice"></span>
        </div>
        <div class="mb-3">
          <label class="block font-semibold mb-1">Seu nome (opcional)</label>
          <input id="modalCustomerName" type="text" placeholder="Digite seu nome" class="w-full px-3 py-2 border rounded" />
        </div>
        <div class="flex gap-3">
          <button id="buyWhatsappBtn" class="flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
            <i class="fab fa-whatsapp"></i> Comprar via WhatsApp
          </button>
          <button id="favoriteModalBtn" class="px-4 py-2 border rounded text-gray-700 hover:bg-gray-100">
            <i class="far fa-heart"></i> Favoritar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
let allProducts = [];
const WHATSAPP_NUMBER = "5564999518536";

const $ = (sel) => document.querySelector(sel);
const $$ = (sel) => Array.from(document.querySelectorAll(sel));

function formatCurrency(v){ return typeof v==='number'? 'R$ '+v.toFixed(2).replace('.',','): v; }

async function loadProducts(){
  try{
    const res = await fetch('produtos.json');
    const data = await res.json();
    allProducts = data.map(p=>({
      id: p.id ?? Math.random().toString(36).slice(2,9),
      name: p.name ?? 'Produto',
      category: p.category ?? 'Novo',
      description: p.description ?? '',
      images: p.images?.length ? p.images : p.image ? [p.image] : ['imagens/placeholder.png'],
      price: (typeof p.price==='object') ? p.price.avista ?? 'R$ 0,00' : p.price ?? 'R$ 0,00',
      rawPrice: parseFloat((typeof p.price==='object'?p.price.avista:p.price).replace(/[^\d.,]/g,'')) || 0
    }));
    renderProducts(allProducts);
  }catch(e){ 
    console.error(e); 
    $('#catalogNovos').innerHTML='<p class="col-span-full text-center text-red-600">Erro ao carregar produtos.</p>'; 
  }
}

function renderProducts(list){
  $('#catalogNovos').innerHTML=''; 
  $('#catalogSeminovos').innerHTML=''; 
  $('#catalogAcessorios').innerHTML=''; 
  $('#catalogPromocoes').innerHTML='';

  if(!list.length){
    $('#catalogNovos').innerHTML='<p class="col-span-full text-center text-gray-600">Nenhum produto encontrado.</p>'; 
    return;
  }

  const favs = getFavorites();

  list.forEach(p=>{
    const card = document.createElement('article');
    const isFav = favs.includes(p.id);
    card.className='card-hover bg-white rounded-lg overflow-hidden shadow transition';
    card.innerHTML=`
      <div class="relative h-48 bg-gray-100 flex items-center justify-center p-3">
        <img loading="lazy" src="${p.images[0]}" alt="${p.name}" class="max-h-full max-w-full object-contain" />
        <button class="absolute inset-0 flex items-center justify-center bg-black/60 text-white text-lg font-semibold opacity-0 hover:opacity-100 transition">Ver</button>
      </div>
      <div class="p-4">
        <h3 class="text-lg font-bold text-gray-800 mb-1">${p.name}</h3>
        <p class="text-gray-600 text-sm mb-2 line-clamp-3">${p.description||''}</p>
        <div class="flex items-center justify-between">
          <div class="text-blue-600 font-bold">${p.price}</div>
          <div class="flex gap-2 items-center">
            <button class="btn-fav ${isFav?'active text-red-500':'text-gray-500 hover:text-red-500'}" data-id="${p.id}"><i class="far fa-heart"></i></button>
            <button class="btn-view bg-blue-600 text-white px-3 py-1 rounded text-sm" data-id="${p.id}">Detalhes</button>
          </div>
        </div>
      </div>
    `;

    if(p.category.toLowerCase() === 'promo√ß√£o' || p.category.toLowerCase() === 'promocao') $('#catalogPromocoes').appendChild(card);
    else if(p.category.toLowerCase() === 'novo') $('#catalogNovos').appendChild(card);
    else if(p.category.toLowerCase() === 'seminovo') $('#catalogSeminovos').appendChild(card);
    else if(p.category.toLowerCase() === 'acess√≥rio' || p.category.toLowerCase() === 'acessorios') $('#catalogAcessorios').appendChild(card);
  });

  $$('.btn-view').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.currentTarget.dataset.id;
    const prod=allProducts.find(x=>x.id==id);
    if(prod) openProductModal(prod);
  }));
  $$('.btn-fav').forEach(btn=>{
    const id=btn.dataset.id;
    btn.addEventListener('click',()=>toggleFavorite(id,btn));
  });
}

const FAVORITES_KEY = 'soscelulares_favs';
function getFavorites(){ try{ return JSON.parse(localStorage.getItem(FAVORITES_KEY))||[] }catch(e){return[];} }
function toggleFavorite(id,btn=null){
  const favs = getFavorites();
  const idx=favs.indexOf(id);
  if(idx>=0) favs.splice(idx,1); else favs.push(id);
  localStorage.setItem(FAVORITES_KEY,JSON.stringify(favs));
  if(btn) btn.classList.toggle('active');
}

const modal = $('#productModal');
function openProductModal(p){
  $('#modalImage').src=p.images[0];
  $('#modalTitle').textContent=p.name;
  $('#modalDesc').textContent=p.description;
  $('#modalPrice').textContent=p.price;
  modal.classList.add('active'); modal.setAttribute('aria-hidden','false');
  $('#buyWhatsappBtn').onclick=()=>{
    const name=encodeURIComponent($('#modalCustomerName').value.trim()||'Cliente');
    const msg=encodeURIComponent(`Ol√°, meu nome √© ${decodeURIComponent(name)}.\nEstou interessado no produto: ${p.name}.\nPre√ßo: ${p.price}`);
    window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,'_blank');
  };
}

$('#closeProductModal').addEventListener('click',()=>{modal.classList.remove('active'); modal.setAttribute('aria-hidden','true');});
$('#modalOverlay').addEventListener('click',()=>{modal.classList.remove('active'); modal.setAttribute('aria-hidden','true');});
document.addEventListener('keydown',e=>{if(e.key==='Escape') modal.classList.remove('active');});

$('#menuToggle').addEventListener('click',()=>$('#mobileMenu').classList.toggle('show'));
window.addEventListener('scroll',()=>{$('#scrollTopBtn').style.display=window.scrollY>300?'block':'none';});
$('#scrollTopBtn').addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));

$('#sortSelect').addEventListener('change',()=>renderProducts(allProducts));

document.addEventListener('DOMContentLoaded',()=>{ loadProducts(); });
</script>

<!-- Contato -->
<section id="contato" class="bg-blue-600 text-white py-12 mt-12 rounded-lg">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold mb-6 text-center">üìû Contato</h2>
    <div class="grid md:grid-cols-2 gap-8">
      <!-- Informa√ß√µes -->
      <div class="flex flex-col justify-center gap-4">
        <p class="text-lg"><i class="fas fa-phone-alt"></i> Telefone: (64) 99951-8536</p>
        <p class="text-lg"><i class="fab fa-whatsapp"></i> WhatsApp: <a href="https://wa.me/5564999518536" class="underline">Clique para falar</a></p>
        <p class="text-lg"><i class="fas fa-map-marker-alt"></i> Endere√ßo: Quarta Avenida,N 90, Mineiros-Goias</p>
        <p class="text-lg"><i class="fas fa-envelope"></i> Email: contato@soscelulares.com</p>
      </div>
    </div>
  </div>
</section>


</body>
</html>






